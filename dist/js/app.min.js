var imagesObject=function(){var c,n,o=document.querySelector(".modal__img"),r=new Array,i={location:0,category:0,data:!1};function d(e){var t,a,n,o=(t=c=e,a={},n={},Object.values(t).forEach(function(e){e.location in a||(a[e.location]=1),e.category in a||(n[e.category]=1)}),a=Object.keys(a),n=Object.keys(n),{location:a,category:n});l(o.location,"location"),l(o.category,"category"),document.querySelector(".filter").addEventListener("click",function(e){var t,a,n=e.target;!function(e){for(var t=function(e){var t=[],a=e.parentNode.firstChild;for(;a;)1===a.nodeType&&t.push(a),a=a.nextSibling;return t}(e),a=0;a<t.length;a++)t[a].classList.contains("active")&&t[a].classList.remove("active");e.classList.add("active")}(n),n.classList.contains("filter-btn")&&(t=n.dataset.filterType,a=n.dataset.filter,i[t]=a,i.data=c.slice(),i.data=i.data.filter(function(e){return i.category&&i.location?e.category===i.category&&e.location===i.location:e[t]===a}),s(i.data))}),s(c)}function l(e,t){if(0<e.length)for(var a=document.getElementById(t+"-filter"),n=0;n<e.length;n++){var o=document.createElement("button");o.appendChild(document.createTextNode(e[n])),o.className="btn filter-btn",o.setAttribute("data-filter",e[n]),o.setAttribute("data-filter-type",t),a.appendChild(o)}}function s(o){var c=document.querySelector(".grid-row");c.innerHTML="",o.forEach(function(e,t){var a=document.createElement("div");a.classList.add("col");var n=document.createElement("a");n.href="#",n.onclick=function(){app.openModal(this,o)},n.classList.add("open-modal"),n.setAttribute("data-zoom",e.zoomsrc),n.setAttribute("data-index",t),a.appendChild(n),n.innerHTML='<img src="'+e.src+'" /><div class="img-info"><p id="image-name">Image Name : <span>'+e.title+'</span></p><p id="photographer">Photographer : <span>'+e.photographer+'</span></p><p id="date">Date : <span>'+e.date+'</span></p><p id="location">Location : <span>'+e.location+'</span></p><p id="category">Category : <span>'+e.category+"</span></p></div>",c.appendChild(a),r[t]=new Image,r[t].src=e.zoomsrc}),function(e){console.log(0==e.data.length);var t=document.querySelector(".selected-values");{var a,n,o;0==e.data.length?(t.innerHTML="",(o=document.createElement("p")).appendChild(document.createTextNode("No match found, Please try another combination")),t.appendChild(o)):e.data&&(a=0==e.category?" ":e.category,n=0==e.location?" ":e.location,t.innerHTML="",(o=document.createElement("p")).appendChild(document.createTextNode(n+" , "+a)),t.appendChild(o))}}(i)}function t(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}function a(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}function u(e,t){return e.title.localeCompare(t.title)}function p(e,t){return t.title.localeCompare(e.title)}function m(){document.getElementById("modal").style.display="none"}function g(e,t){var a="next"==t?n<e.length-1?+n+1:0:0<n?n-1:e.length-1;console.log(n,a,e),n=a,o.src=e[n].zoomsrc}return document.body.addEventListener("keydown",function(e){var t=e.keyCode,a=new Event("click");39==t&&document.querySelector(".next").dispatchEvent(a),37==t&&document.querySelector(".prev").dispatchEvent(a),27==t&&m()},!1),{init:function(){var e,t,a;e="../js/app.json",t=d,(a=new XMLHttpRequest).onreadystatechange=function(){var e;4==a.readyState&&200==a.status&&(e=JSON.parse(a.responseText),t(e.imagesJson))},a.open("GET",e,!0),a.send()},filterData:function(e){switch(i.data=i.data||c.slice(),e){case"ascending":i.data.sort(t);break;case"descending":i.data.sort(a);break;case"alphabetically":i.data.sort(u);break;case"reverse":i.data.sort(p)}s(i.data)},showAll:function(e){for(var t=document.querySelectorAll(".btn"),a=0;a<t.length;a++)t[a].classList.contains("active")&&t[a].classList.remove("active");i.category=i.location=0,s(i.data=c)},openModal:function(e,t){var a=e.getAttribute("data-zoom");n=e.getAttribute("data-index"),o.src=a,document.getElementById("modal").style.display="block",document.querySelector(".prev").addEventListener("click",function(){g(t,"prev")},!1),document.querySelector(".next").addEventListener("click",function(){g(t,"next")},!1),o.parentElement.parentElement.addEventListener("click",function(e){e.target==document.getElementById("modal")&&m()})},closeModal:m}},app=imagesObject();app.init();
//# sourceMappingURL=app.min.js.map